with Ada.Containers; use Ada.Containers;
with Ada.Containers.Ordered_Sets;
with Ada.Containers.Indefinite_Ordered_Maps;

package Bag is

  type Bag_Color is (
    bright_gray,
    pale_olive,
    mirrored_magenta,
    shiny_blue,
    dotted_beige,
    drab_tomato,
    drab_blue,
    striped_beige,
    dull_gold,
    wavy_red,
    pale_white,
    bright_orange,
    plaid_yellow,
    clear_red,
    light_tomato,
    pale_yellow,
    shiny_red,
    bright_maroon,
    dark_crimson,
    pale_red,
    shiny_lavender,
    dotted_blue,
    bright_lime,
    bright_lavender,
    faded_purple,
    pale_aqua,
    wavy_cyan,
    dull_maroon,
    muted_fuchsia,
    clear_salmon,
    drab_maroon,
    posh_blue,
    shiny_gold,
    light_lavender,
    pale_violet,
    bright_gold,
    wavy_maroon,
    wavy_salmon,
    vibrant_orange,
    vibrant_green,
    striped_tan,
    wavy_silver,
    pale_beige,
    mirrored_brown,
    faded_green,
    posh_red,
    wavy_turquoise,
    drab_indigo,
    shiny_black,
    wavy_fuchsia,
    clear_teal,
    posh_tan,
    plaid_lime,
    vibrant_tomato,
    dull_crimson,
    dotted_salmon,
    striped_orange,
    vibrant_bronze,
    posh_black,
    dim_gray,
    pale_chartreuse,
    wavy_green,
    striped_red,
    muted_black,
    vibrant_gray,
    dotted_plum,
    mirrored_salmon,
    mirrored_orange,
    dark_gold,
    muted_orange,
    posh_aqua,
    dotted_lime,
    drab_lime,
    bright_blue,
    light_orange,
    dark_chartreuse,
    clear_gray,
    vibrant_lime,
    light_black,
    clear_gold,
    light_aqua,
    mirrored_tan,
    faded_tomato,
    drab_chartreuse,
    striped_tomato,
    clear_white,
    shiny_plum,
    plaid_violet,
    dotted_magenta,
    mirrored_cyan,
    muted_teal,
    striped_maroon,
    mirrored_turquoise,
    shiny_silver,
    striped_green,
    striped_silver,
    wavy_olive,
    clear_brown,
    bright_turquoise,
    muted_tan,
    dull_green,
    drab_yellow,
    plaid_aqua,
    vibrant_chartreuse,
    light_chartreuse,
    vibrant_tan,
    posh_turquoise,
    dotted_fuchsia,
    dark_turquoise,
    dotted_chartreuse,
    light_lime,
    mirrored_teal,
    vibrant_turquoise,
    clear_blue,
    striped_blue,
    muted_silver,
    dotted_indigo,
    vibrant_teal,
    striped_chartreuse,
    dotted_violet,
    light_brown,
    posh_indigo,
    drab_violet,
    plaid_plum,
    dotted_orange,
    dotted_teal,
    vibrant_brown,
    clear_orange,
    bright_magenta,
    clear_tan,
    dotted_brown,
    vibrant_plum,
    light_indigo,
    bright_chartreuse,
    clear_turquoise,
    dim_crimson,
    pale_tan,
    plaid_gold,
    striped_crimson,
    clear_lavender,
    dark_maroon,
    drab_gray,
    faded_olive,
    muted_gray,
    posh_violet,
    shiny_white,
    mirrored_indigo,
    dark_brown,
    muted_tomato,
    striped_black,
    shiny_crimson,
    bright_coral,
    dark_yellow,
    faded_beige,
    wavy_magenta,
    wavy_bronze,
    dim_lavender,
    dim_indigo,
    posh_green,
    pale_gray,
    mirrored_gold,
    striped_white,
    drab_cyan,
    vibrant_aqua,
    light_gold,
    dotted_yellow,
    vibrant_cyan,
    posh_yellow,
    faded_salmon,
    bright_purple,
    dotted_purple,
    plaid_red,
    vibrant_maroon,
    clear_crimson,
    clear_cyan,
    vibrant_salmon,
    striped_olive,
    dim_turquoise,
    bright_brown,
    mirrored_tomato,
    dark_green,
    wavy_white,
    shiny_green,
    dotted_aqua,
    shiny_aqua,
    dark_lavender,
    dull_violet,
    drab_tan,
    plaid_turquoise,
    pale_lavender,
    clear_indigo,
    wavy_purple,
    shiny_salmon,
    mirrored_crimson,
    plaid_chartreuse,
    pale_orange,
    dark_cyan,
    dim_brown,
    pale_blue,
    vibrant_red,
    dark_salmon,
    bright_black,
    vibrant_white,
    muted_violet,
    wavy_coral,
    striped_salmon,
    faded_blue,
    dim_violet,
    faded_chartreuse,
    posh_silver,
    dim_red,
    dull_lime,
    striped_fuchsia,
    vibrant_lavender,
    dark_gray,
    drab_lavender,
    mirrored_white,
    bright_aqua,
    dark_silver,
    drab_fuchsia,
    bright_teal,
    striped_indigo,
    dark_white,
    mirrored_maroon,
    wavy_tan,
    wavy_lime,
    dark_plum,
    posh_cyan,
    pale_crimson,
    clear_yellow,
    striped_yellow,
    clear_silver,
    drab_red,
    dotted_turquoise,
    striped_purple,
    striped_gray,
    clear_purple,
    light_gray,
    dull_tan,
    muted_blue,
    dull_brown,
    bright_fuchsia,
    plaid_purple,
    drab_silver,
    light_salmon,
    drab_beige,
    posh_beige,
    muted_cyan,
    dull_magenta,
    shiny_cyan,
    mirrored_gray,
    bright_cyan,
    dotted_crimson,
    dim_chartreuse,
    muted_crimson,
    dim_aqua,
    wavy_aqua,
    bright_beige,
    posh_purple,
    shiny_fuchsia,
    wavy_beige,
    wavy_crimson,
    pale_tomato,
    bright_silver,
    mirrored_chartreuse,
    mirrored_aqua,
    wavy_brown,
    dull_purple,
    pale_turquoise,
    dull_lavender,
    dull_aqua,
    clear_maroon,
    wavy_lavender,
    dull_blue,
    shiny_olive,
    shiny_teal,
    dull_teal,
    dim_bronze,
    muted_bronze,
    vibrant_violet,
    dull_turquoise,
    pale_purple,
    drab_aqua,
    mirrored_beige,
    pale_plum,
    dotted_maroon,
    muted_olive,
    wavy_yellow,
    plaid_salmon,
    faded_indigo,
    pale_brown,
    clear_olive,
    vibrant_gold,
    dark_indigo,
    drab_gold,
    light_bronze,
    vibrant_black,
    wavy_tomato,
    wavy_orange,
    dark_blue,
    drab_magenta,
    posh_crimson,
    mirrored_coral,
    faded_crimson,
    dotted_tan,
    faded_magenta,
    light_maroon,
    dull_chartreuse,
    plaid_white,
    plaid_fuchsia,
    dark_red,
    dark_fuchsia,
    dull_plum,
    vibrant_crimson,
    clear_magenta,
    dull_indigo,
    vibrant_olive,
    striped_lavender,
    clear_lime,
    faded_orange,
    posh_lime,
    posh_olive,
    dim_yellow,
    muted_red,
    pale_salmon,
    light_beige,
    clear_tomato,
    shiny_gray,
    vibrant_fuchsia,
    shiny_violet,
    plaid_silver,
    light_white,
    posh_magenta,
    muted_maroon,
    light_blue,
    pale_teal,
    posh_gold,
    shiny_indigo,
    wavy_teal,
    striped_cyan,
    pale_black,
    light_green,
    mirrored_green,
    dim_orange,
    clear_chartreuse,
    dull_black,
    dotted_tomato,
    faded_maroon,
    plaid_cyan,
    dark_bronze,
    vibrant_purple,
    dotted_silver,
    mirrored_yellow,
    dim_lime,
    faded_tan,
    drab_plum,
    plaid_lavender,
    dark_beige,
    dotted_red,
    dull_orange,
    striped_bronze,
    wavy_indigo,
    light_cyan,
    plaid_orange,
    faded_turquoise,
    shiny_orange,
    light_tan,
    pale_coral,
    faded_lavender,
    dull_cyan,
    shiny_turquoise,
    faded_violet,
    mirrored_bronze,
    dull_tomato,
    faded_red,
    dark_magenta,
    light_turquoise,
    clear_green,
    clear_coral,
    dotted_bronze,
    drab_salmon,
    faded_aqua,
    bright_violet,
    mirrored_silver,
    posh_maroon,
    striped_brown,
    bright_olive,
    drab_white,
    faded_teal,
    striped_plum,
    dark_coral,
    drab_orange,
    bright_tan,
    drab_brown,
    posh_bronze,
    mirrored_purple,
    wavy_blue,
    dim_cyan,
    plaid_olive,
    dark_orange,
    drab_olive,
    pale_fuchsia,
    shiny_chartreuse,
    shiny_brown,
    striped_turquoise,
    dull_gray,
    wavy_chartreuse,
    bright_green,
    dark_olive,
    dark_black,
    dim_purple,
    pale_gold,
    pale_maroon,
    light_plum,
    mirrored_plum,
    dim_coral,
    faded_silver,
    posh_salmon,
    shiny_purple,
    shiny_maroon,
    clear_beige,
    muted_plum,
    plaid_green,
    faded_white,
    plaid_gray,
    shiny_yellow,
    mirrored_violet,
    plaid_beige,
    plaid_black,
    mirrored_fuchsia,
    pale_indigo,
    light_magenta,
    striped_teal,
    dark_aqua,
    bright_red,
    dim_teal,
    drab_crimson,
    dim_silver,
    drab_bronze,
    drab_teal,
    dark_teal,
    vibrant_indigo,
    mirrored_black,
    dotted_gray,
    posh_plum,
    drab_black,
    faded_gray,
    muted_white,
    wavy_gray,
    plaid_magenta,
    muted_coral,
    plaid_tomato,
    dark_lime,
    vibrant_coral,
    drab_turquoise,
    mirrored_red,
    plaid_brown,
    striped_gold,
    drab_purple,
    posh_chartreuse,
    clear_violet,
    striped_magenta,
    muted_salmon,
    pale_silver,
    striped_lime,
    dull_silver,
    dark_violet,
    dim_black,
    shiny_beige,
    plaid_tan,
    faded_yellow,
    vibrant_blue,
    mirrored_lime,
    dull_white,
    dim_tomato,
    pale_cyan,
    light_fuchsia,
    posh_gray,
    faded_cyan,
    plaid_bronze,
    dim_olive,
    faded_coral,
    pale_lime,
    dim_white,
    muted_turquoise,
    clear_bronze,
    bright_plum,
    posh_orange,
    muted_chartreuse,
    shiny_bronze,
    shiny_coral,
    posh_lavender,
    clear_fuchsia,
    bright_tomato,
    light_yellow,
    pale_magenta,
    bright_bronze,
    faded_bronze,
    plaid_coral,
    dull_coral,
    muted_purple,
    light_silver,
    muted_aqua,
    posh_white,
    dotted_olive,
    muted_lime,
    vibrant_magenta,
    dotted_coral,
    drab_green,
    vibrant_silver,
    dull_bronze,
    striped_coral,
    dim_blue,
    mirrored_olive,
    bright_salmon,
    bright_crimson,
    vibrant_yellow,
    plaid_indigo,
    bright_indigo,
    clear_aqua,
    posh_tomato,
    dim_tan,
    dim_plum,
    posh_teal,
    muted_indigo,
    dull_beige,
    dotted_cyan,
    faded_fuchsia,
    pale_bronze,
    dim_beige,
    muted_beige,
    dotted_lavender,
    pale_green,
    drab_coral,
    wavy_plum,
    dotted_green,
    light_violet,
    faded_gold,
    muted_magenta,
    light_red,
    dim_maroon,
    dull_fuchsia,
    wavy_gold,
    light_coral,
    dark_tan,
    faded_plum,
    wavy_black,
    wavy_violet,
    light_teal,
    posh_fuchsia,
    striped_violet,
    plaid_crimson,
    light_olive,
    dim_magenta,
    striped_aqua,
    dotted_white,
    faded_black,
    dotted_black,
    dotted_gold,
    dark_tomato,
    shiny_tan,
    muted_gold,
    dim_gold,
    dull_yellow,
    bright_white,
    light_purple,
    shiny_magenta,
    faded_brown,
    posh_coral,
    dim_green,
    dull_red,
    clear_plum,
    mirrored_lavender,
    dim_salmon,
    plaid_maroon,
    dim_fuchsia,
    dull_olive,
    muted_brown,
    muted_lavender,
    faded_lime,
    muted_yellow,
    dark_purple,
    light_crimson,
    muted_green,
    vibrant_beige,
    shiny_tomato,
    bright_yellow,
    clear_black,
    posh_brown,
    shiny_lime,
    mirrored_blue,
    dull_salmon,
    plaid_teal,
    plaid_blue);

  my_color : Bag_Color := shiny_gold;

  type Bag_Combo is record
    Color : Bag_Color;
    Count : Natural := 0;
  end record;

  function "<" (Left, Right : Bag_Combo) return Boolean;

  package Bag_Sets is new Ada.Containers.Ordered_Sets
    (Element_Type => Bag_Combo);
  use Bag_Sets;

  package Bag_Maps is new Ada.Containers.Indefinite_Ordered_Maps
    (Key_Type        => Bag_Color,
    Element_Type    => Bag_Sets.Set);
  use Bag_Maps;

  function test_data return Bag_Maps.Map;
  function input_data return Bag_Maps.Map;

  function parse_rules(f : in String) return Bag_Maps.Map;

end Bag;
